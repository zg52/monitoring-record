(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e883b650"],{"08f0":function(e,t,n){},"3fb2":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"identificationRecord-container"},[n("div",{staticClass:"identificationRecord-select-form"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"卡 口："}},[n("el-select",{attrs:{placeholder:"请选择卡口"},model:{value:e.formInline.bayonet,callback:function(t){e.$set(e.formInline,"bayonet",t)},expression:"formInline.bayonet"}},[n("el-option",{attrs:{label:"全部",value:"0"}})],1)],1),n("el-form-item",{attrs:{label:"性 别："}},[n("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.formInline.gender,callback:function(t){e.$set(e.formInline,"gender",t)},expression:"formInline.gender"}},[n("el-option",{attrs:{label:"全部",value:""}}),n("el-option",{attrs:{label:"男",value:"male"}}),n("el-option",{attrs:{label:"女",value:"female"}}),n("el-option",{attrs:{label:"未知",value:"unknown"}})],1)],1),n("el-form-item",{attrs:{label:"日 期："}},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:e.timeChange},model:{value:e.formInline.time,callback:function(t){e.$set(e.formInline,"time",t)},expression:"formInline.time"}})],1),n("el-form-item",[n("el-button",{directives:[{name:"preventReClick",rawName:"v-preventReClick",value:2e3,expression:"2000"}],attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)],1),n("div",{staticClass:"identificationRecord-table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{prop:"trackId",label:"姓名",width:"180"}}),n("el-table-column",{attrs:{label:"照片",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("el-image",{staticStyle:{width:"40px",height:"40px",display:"block",margin:"0 auto"},attrs:{src:"http://192.168.1.102:5001/"+e.row.facePhoto}},[n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("i",{staticClass:"el-icon-picture-outline",staticStyle:{"font-size":"40px"}})])])]}}])}),n("el-table-column",{attrs:{prop:"gender",label:"性别"}}),n("el-table-column",{attrs:{prop:"age",label:"年龄"}}),n("el-table-column",{attrs:{prop:"startTime",label:"进入时间"}}),n("el-table-column",{attrs:{prop:"endTime",label:"离开时间"}}),n("el-table-column",{attrs:{label:"停留时长"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.duration)+"s")])]}}])}),n("el-table-column",{attrs:{label:"出现次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.frequency)+"次")])]}}])})],1),n("el-pagination",{staticClass:"table-pagination",attrs:{background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.pageIndex,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])},r=[];function i(e){if(Array.isArray(e))return e}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function o(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done);o=!0)if(i.push(a.value),t&&i.length===t)break}catch(s){l=!0,r=s}finally{try{o||null==n["return"]||n["return"]()}finally{if(l)throw r}}return i}}n("fb6a"),n("b0c0"),n("a630");function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){return i(e)||o(e,t)||s(e,t)||c()}var d=n("1da1"),f=(n("96cf"),n("d81d"),n("159b"),n("e5bf")),m=n("7f6d"),g={data:function(){return{formInline:{gender:"",bayonet:"0",time:[new Date((new Date).toLocaleDateString()).getTime(),new Date((new Date).toLocaleDateString()).getTime()+864e5-1]},list:null,listLoading:!1,pageSize:10,pageIndex:1,total:0}},methods:{timeChange:function(e){var t=this;console.log(e),null==e?this.$nextTick((function(){t.formInline.time=["",""]})):this.formInline.time=this.formInline.time.map((function(e,t){return 0==t?e=""!==e?new Date(new Date(e).toLocaleDateString()).getTime():"":1==t&&(e=""!==e?new Date(new Date(e).toLocaleDateString()).getTime()+864e5-1:""),e})),console.log(this.formInline)},handleCurrentChange:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.pageIndex=e,n.next=3,t.fetchData();case 3:case"end":return n.stop()}}),n)})))()},onSubmit:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:case"end":return t.stop()}}),t)})))()},fetchData:function(){var e=this,t=this.pageSize,n=this.pageIndex,a=this.formInline,r=a.gender,i=a.time,o=u(i,2),l=o[0],s=void 0===l?0:l,c=o[1],d=void 0===c?0:c;this.listLoading=!0,Object(f["a"])({pageIndex:n,pageSize:t,gender:r,startTime:""==s?0:s,endTime:""==d?0:d}).then((function(t){t.data.stayTimeList.forEach((function(e){"male"==e["gender"]?e["gender"]="男":"female"==e["gender"]?e["gender"]="女":"unknown"==e["gender"]&&(e["gender"]="未知"),e["startTime"]=Object(m["a"])(1e3*e["startTime"]),e["endTime"]=Object(m["a"])(1e3*e["endTime"])})),e.list=t.data.stayTimeList,e.total=t.data.total,e.listLoading=!1})).catch((function(t){e.listLoading=!1}))}},created:function(){this.fetchData()}},p=g,b=(n("cea6"),n("2877")),h=Object(b["a"])(p,a,r,!1,null,"1ea7c3f5",null);t["default"]=h.exports},"7f6d":function(e,t,n){"use strict";function a(e){var t=parseInt(e),n=new Date(t),a=n.getFullYear()+"-",r=n.getMonth()+1<10?"0"+(n.getMonth()+1)+"-":n.getMonth()+1+"-",i=n.getDate()<10?"0"+n.getDate()+" ":n.getDate()+" ",o=n.getHours()<10?"0"+n.getHours()+":":n.getHours()+":",l=n.getMinutes()<10?"0"+n.getMinutes()+":":n.getMinutes()+":",s=n.getSeconds()<10?"0"+n.getSeconds():n.getSeconds()+"";return a+r+i+o+l+s}n.d(t,"a",(function(){return a}))},cea6:function(e,t,n){"use strict";n("08f0")},e5bf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("b775");function r(e){return Object(a["a"])({url:"/identificationRecord",method:"post",data:e})}}}]);